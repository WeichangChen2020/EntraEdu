<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <include file="./Public/html/_head.html"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>WeUI</title>
    <link rel="stylesheet" href="style/weui.min.css"/>
    <link rel="stylesheet" href="example/example.css"/>
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script>   
        $(document).on("click","#showActionSheet",function(){
            actionSheetMenu({id:'aa',text:'菜单一'},{id:'bb',text:'菜单二'},{id:'cc',text:'菜单三'});   

            $('body').on('click','#aa',function(){  
                alert('菜单一');  
                $('#actionsheet_cancel').trigger('click');  
            });  
            $('body').on('click','#bb',function(){  
                alert('菜单二');  
            });  
            $('body').on('click','#cc',function(){  
                location.href="http://www.baidu.com";
            });  
        });
        function actionSheetMenu(){  
            if(!arguments.length){  
                return;  
            }  
            var menuHtml = '';  
            for(i=0;i<arguments.length;i++){  
                if(typeof(arguments[i]) != 'object' || !arguments[i].id || !arguments[i].text){  
                    continue;  
                }  
                menuHtml += '<div class="weui_actionsheet_cell" id="' + arguments[i].id + '">' + arguments[i].text + '</div>';  
            }  
            if(!menuHtml){  
                return;  
            }  
            var actionSheetMenuStr;  
            actionSheetMenuStr = '\
            <div id="actionSheet_wrap">\
            <div class="weui_mask_transition" id="mask"></div>\
            <div class="weui_actionsheet" id="weui_actionsheet">\
            <div class="weui_actionsheet_menu">\
            </div>\
            <div class="weui_actionsheet_action">\
            <div class="weui_actionsheet_cell" id="actionsheet_cancel">取消</div>\
            </div>\
            </div>\
            </div>\
            '; 
            if(!$('#actionSheet_wrap').length){  
                $('body').append(actionSheetMenuStr);  
            }  
            $('.weui_actionsheet_menu').html(menuHtml);  
            $('#mask').show().addClass('weui_fade_toggle');  
            $('#weui_actionsheet').addClass('weui_actionsheet_toggle');  
            $('#mask').unbind('transitionend').unbind('webkitTransitionEnd');  
            $('#mask , #actionsheet_cancel').on('click',function(){  
                $('#mask').removeClass('weui_fade_toggle');  
                $('#weui_actionsheet').removeClass('weui_actionsheet_toggle');  
                $('#mask').on('transitionend webkitTransitionEnd',function(e){  
                    $('#mask').hide();  
                });  
            }); 
        }  
    </script>
</head>
<body ontouchstart>

    <div class="hd">
        <h1 class="page_title">ActionSheet</h1>
    </div>
    <div class="bd spacing">
        <a href="javascript:;" class="weui_btn weui_btn_primary" id="showActionSheet">点击上拉ActionSheet</a>
    </div>

</body>
</html>